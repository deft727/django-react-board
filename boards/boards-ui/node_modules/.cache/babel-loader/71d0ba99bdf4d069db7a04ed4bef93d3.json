{"ast":null,"code":"import _slicedToArray from\"/home/user/Desktop/react_board/boards/boards-ui/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import'bootstrap/dist/css/bootstrap.min.css';import{Link}from'react-router-dom';// // import Dropdown from 'react-overlays/Dropdown'\n// import DropdownButton from 'react-bootstrap/DropdownButton'\n// import Dropdown from 'react-bootstrap/Dropdown'\nimport NavDropdown from'react-bootstrap/NavDropdown';import Nav from'react-bootstrap/Nav';import Navbar from\"react-bootstrap/Navbar\";import{withRouter}from\"react-router-dom\";import axios from'axios';// <Link className=\"navbar-brand\" to={{pathname:`/api/account/`, froDashboard:false }}>Django Boards</Link>\nimport{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function MyNavbar(props){var _useState=useState({}),_useState2=_slicedToArray(_useState,2),user=_useState2[0],Setuser=_useState2[1];var tokens=localStorage.tokens;var logout=function logout(){axios({method:\"post\",headers:{'Authorization':\"Token \".concat(tokens),'Accept':'application/json','Content-Type':'application/json'},url:\"http://127.0.0.1:8000/auth/token/logout/\"}).then(function(response){// console.log(response)\nif(response.status===204){window.localStorage.removeItem(\"tokens\");window.location.reload();//    props.history.push(\"/auth/token/login/\")\n}});};return/*#__PURE__*/_jsx(\"div\",{className:\"App\",children:/*#__PURE__*/_jsx(\"nav\",{className:\"navbar navbar-expand-lg navbar-light bg-light\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"container-fluid\",children:[/*#__PURE__*/_jsx(Link,{className:\"navbar-brand\",to:{pathname:\"/\",froDashboard:false},children:\"Django Boards\"}),/*#__PURE__*/_jsx(\"button\",{className:\"navbar-toggler\",type:\"button\",\"data-bs-toggle\":\"collapse\",\"data-bs-target\":\"#navbarSupportedContent\",\"aria-controls\":\"navbarSupportedContent\",\"aria-expanded\":\"false\",\"aria-label\":\"Toggle navigation\",children:/*#__PURE__*/_jsx(\"span\",{className:\"navbar-toggler-icon\",children:\" \"})}),/*#__PURE__*/_jsx(\"div\",{className:\"collapse navbar-collapse\",id:\"navbarSupportedContent\",children:/*#__PURE__*/_jsxs(\"ul\",{className:\"navbar-nav ms-auto mb-2 mb-lg-0\",children:[/*#__PURE__*/_jsx(\"li\",{className:\"nav-item\",children:/*#__PURE__*/_jsx(\"a\",{href:\"http://127.0.0.1:8000/swagger/\",className:\"nav-link active text-info\",target:\"_blank\",children:\"Documents\"})}),tokens?null:/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"li\",{className:\"nav-item\",children:/*#__PURE__*/_jsx(Link,{className:\"nav-link active\",\"aria-current\":\"page\",to:{pathname:\"/auth/token/login/\",froDashboard:false},children:\"Login\"})}),/*#__PURE__*/_jsx(\"li\",{className:\"nav-item\",children:/*#__PURE__*/_jsx(Link,{className:\"nav-link active\",\"aria-current\":\"page\",to:{pathname:\"/auth/users/\",froDashboard:false},children:\"Register\"})})]}),/*#__PURE__*/_jsx(\"li\",{className:\"nav-item dropdown\",children:!tokens?null:/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Navbar.Toggle,{\"aria-controls\":\"navbar-dark-example\"}),/*#__PURE__*/_jsx(Navbar.Collapse,{id:\"navbar-dark-example\",children:/*#__PURE__*/_jsx(Nav,{children:/*#__PURE__*/_jsxs(NavDropdown,{id:\"nav-dropdown-dark-example\",title:\"Profile\",menuVariant:\"dark\",children:[/*#__PURE__*/_jsxs(Link,{to:{pathname:\"/account/\",froDashboard:false},children:[\"  \",/*#__PURE__*/_jsx(NavDropdown.Item,{href:\"/account/\",children:\"My profile\"})]}),/*#__PURE__*/_jsx(NavDropdown.Item,{href:\"#action/3.2\",children:\"Change password\"}),/*#__PURE__*/_jsx(NavDropdown.Divider,{}),/*#__PURE__*/_jsx(NavDropdown.Item,{onClick:logout,children:\"Logout\"})]})})})]})})]})})]})})});}export default withRouter(MyNavbar);","map":{"version":3,"sources":["/home/user/Desktop/react_board/boards/boards-ui/src/components/navbar/navbar.js"],"names":["React","useState","useEffect","Link","NavDropdown","Nav","Navbar","withRouter","axios","MyNavbar","props","user","Setuser","tokens","localStorage","logout","method","headers","url","then","response","status","window","removeItem","location","reload","pathname","froDashboard"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport 'bootstrap/dist/css/bootstrap.min.css'\nimport {Link} from 'react-router-dom';\n// // import Dropdown from 'react-overlays/Dropdown'\n// import DropdownButton from 'react-bootstrap/DropdownButton'\n// import Dropdown from 'react-bootstrap/Dropdown'\nimport NavDropdown from 'react-bootstrap/NavDropdown'\nimport Nav from 'react-bootstrap/Nav'\nimport Navbar from \"react-bootstrap/Navbar\";\nimport {withRouter} from \"react-router-dom\";\n\nimport axios from 'axios';\n                // <Link className=\"navbar-brand\" to={{pathname:`/api/account/`, froDashboard:false }}>Django Boards</Link>\n\nfunction MyNavbar(props) {\n    const [user, Setuser] = useState({})\n    const tokens = localStorage.tokens;\n    const logout = ()=>{ axios({\n            method: \"post\",\n            headers: {\n                'Authorization': `Token ${tokens}`,\n                'Accept' : 'application/json',\n                'Content-Type': 'application/json'\n                },\n            url: `http://127.0.0.1:8000/auth/token/logout/`\n        }).then((response)=> {\n            // console.log(response)\n            if (response.status === 204) {\n            window.localStorage.removeItem(\"tokens\");\n            window.location.reload();\n             //    props.history.push(\"/auth/token/login/\")\n            }\n    } )}\n\n\n  return (\n\n    <div className=\"App\">\n        <nav className=\"navbar navbar-expand-lg navbar-light bg-light\">\n            <div className=\"container-fluid\">\n                <Link className=\"navbar-brand\" to={{pathname:`/`, froDashboard:false }}>Django Boards</Link>\n                <button className=\"navbar-toggler\" type=\"button\" data-bs-toggle=\"collapse\"\n                        data-bs-target=\"#navbarSupportedContent\" aria-controls=\"navbarSupportedContent\"\n                        aria-expanded=\"false\" aria-label=\"Toggle navigation\">\n                    <span className=\"navbar-toggler-icon\"> </span>\n                </button>\n                <div className=\"collapse navbar-collapse\" id=\"navbarSupportedContent\">\n                    <ul className=\"navbar-nav ms-auto mb-2 mb-lg-0\">\n                        <li className=\"nav-item\">\n  <a href=\"http://127.0.0.1:8000/swagger/\" className=\"nav-link active text-info\" target=\"_blank\">Documents</a>\n                        </li>\n                        {\n                          tokens ? null : ( <>\n                        <li className=\"nav-item\">\n\n         <Link  className=\"nav-link active\" aria-current=\"page\" to={{pathname:`/auth/token/login/`, froDashboard:false }}>Login</Link>\n\n                        </li>\n                        <li className=\"nav-item\">\n         <Link  className=\"nav-link active\" aria-current=\"page\" to={{pathname:`/auth/users/`, froDashboard:false }}>Register</Link>\n                        </li>\n                            </>)\n                        }\n                        <li className=\"nav-item dropdown\">\n                            {\n                                !tokens ? null : ( <><Navbar.Toggle aria-controls=\"navbar-dark-example\" />\n    <Navbar.Collapse id=\"navbar-dark-example\">\n      <Nav>\n        <NavDropdown\n          id=\"nav-dropdown-dark-example\"\n          title=\"Profile\"\n          menuVariant=\"dark\"\n        >\n            <Link to={{pathname:`/account/`, froDashboard:false }} >  <NavDropdown.Item href=\"/account/\">My profile</NavDropdown.Item></Link>\n          <NavDropdown.Item href=\"#action/3.2\">Change password</NavDropdown.Item>\n          {/*<NavDropdown.Item href=\"#action/3.3\">Logout</NavDropdown.Item>*/}\n          <NavDropdown.Divider />\n          <NavDropdown.Item onClick={logout}>Logout</NavDropdown.Item>\n        </NavDropdown>\n      </Nav>\n    </Navbar.Collapse></>)\n                            }\n\n                        </li>\n\n                    </ul>\n\n                </div>\n            </div>\n        </nav>\n    </div>\n  )\n}\n\nexport default withRouter(MyNavbar);"]},"metadata":{},"sourceType":"module"}