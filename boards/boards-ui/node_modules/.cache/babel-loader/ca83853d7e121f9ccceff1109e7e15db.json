{"ast":null,"code":"import _classCallCheck from\"/home/user/Desktop/react_board/boards/boards-ui/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/user/Desktop/react_board/boards/boards-ui/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"/home/user/Desktop/react_board/boards/boards-ui/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"/home/user/Desktop/react_board/boards/boards-ui/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/home/user/Desktop/react_board/boards/boards-ui/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import CustomersService from'./CustomersService';import{Link}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var customersService=new CustomersService();var CustomersList=/*#__PURE__*/function(_Component){_inherits(CustomersList,_Component);var _super=_createSuper(CustomersList);function CustomersList(props){var _this;_classCallCheck(this,CustomersList);_this=_super.call(this,props);_this.state={customers:[],nextPageURL:''};_this.nextPage=_this.nextPage.bind(_assertThisInitialized(_this));_this.handleDelete=_this.handleDelete.bind(_assertThisInitialized(_this));return _this;}_createClass(CustomersList,[{key:\"componentDidMount\",value:function componentDidMount(){var self=this;customersService.getCustomers().then(function(result){console.log(result);self.setState({customers:result.data,nextPageURL:result.nextlink});});}},{key:\"handleDelete\",value:function handleDelete(e,pk){var self=this;customersService.deleteCustomer({pk:pk}).then(function(){var newArr=self.state.customers.filter(function(obj){return obj.pk!==pk;});self.setState({customers:newArr});});}},{key:\"nextPage\",value:function nextPage(){var self=this;console.log(this.state.nextPageURL);customersService.getCustomersByURL(this.state.nextPageURL).then(function(result){self.setState({customers:result.data,nextPageURL:result.nextlink});});}},{key:\"render\",value:function render(){var _this2=this;return/*#__PURE__*/_jsxs(\"div\",{className:\"customers--list\",children:[/*#__PURE__*/_jsxs(\"table\",{className:\"table\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"#\"}),/*#__PURE__*/_jsx(\"th\",{children:\"username\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Email\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Actions\"})]})},\"thead\"),/*#__PURE__*/_jsx(\"tbody\",{children:this.state.customers.map(function(c){return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsxs(\"td\",{children:[c.pk,\"  \"]}),/*#__PURE__*/_jsx(\"td\",{children:c.username}),/*#__PURE__*/_jsx(\"td\",{children:c.email}),/*#__PURE__*/_jsxs(\"td\",{children:[/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(e){return _this2.handleDelete(e,c.pk);},children:\" Delete\"}),/*#__PURE__*/_jsx(Link,{className:\"text-reset\",to:{pathname:\"/customer/\\\" + c.pk+/\"},children:\"user 1\"}),\" /\"]})]},c.pk);})})]}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-primary\",onClick:this.nextPage,children:\"Next\"})]});}}]);return CustomersList;}(Component);export default CustomersList;","map":{"version":3,"sources":["/home/user/Desktop/react_board/boards/boards-ui/src/components/customers/CustomersList.js"],"names":["React","Component","CustomersService","Link","customersService","CustomersList","props","state","customers","nextPageURL","nextPage","bind","handleDelete","self","getCustomers","then","result","console","log","setState","data","nextlink","e","pk","deleteCustomer","newArr","filter","obj","getCustomersByURL","map","c","username","email","pathname"],"mappings":"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","sourcesContent":["import  React, { Component } from  'react';\nimport  CustomersService  from './CustomersService';\nimport {Link} from \"react-router-dom\";\n\nconst  customersService  =  new  CustomersService();\n\nclass  CustomersList  extends  Component {\n\nconstructor(props) {\n    super(props);\n    this.state  = {\n        customers: [],\n        nextPageURL:  ''\n    };\n    this.nextPage  =  this.nextPage.bind(this);\n    this.handleDelete  =  this.handleDelete.bind(this);\n}\n\ncomponentDidMount() {\n    var  self  =  this;\n    customersService.getCustomers().then(function (result) {\n        console.log(result);\n        self.setState({ customers:  result.data, nextPageURL:  result.nextlink})\n    });\n}\nhandleDelete(e,pk){\n    var  self  =  this;\n    customersService.deleteCustomer({pk :  pk}).then(()=>{\n        var  newArr  =  self.state.customers.filter(function(obj) {\n            return  obj.pk  !==  pk;\n        });\n\n        self.setState({customers:  newArr})\n    });\n}\n\nnextPage(){\n    var  self  =  this;\n    console.log(this.state.nextPageURL);\n    customersService.getCustomersByURL(this.state.nextPageURL).then((result) => {\n        self.setState({ customers:  result.data, nextPageURL:  result.nextlink})\n    });\n}\nrender() {\n\n    return (\n        <div  className=\"customers--list\">\n            <table  className=\"table\">\n            <thead  key=\"thead\">\n            <tr>\n                <th>#</th>\n                <th>username</th>\n                <th>Email</th>\n                <th>Actions</th>\n            </tr>\n            </thead>\n            <tbody>\n            {this.state.customers.map( c  =>\n                <tr  key={c.pk}>\n                <td>{c.pk}  </td>\n                <td>{c.username}</td>\n                <td>{c.email}</td>\n                <td>\n                <button  onClick={(e)=>  this.handleDelete(e,c.pk) }> Delete</button>\n             <Link className=\"text-reset\" to={{pathname:`/customer/\" + c.pk+/` }}>user 1</Link> /\n\n                {/*<a  href={\"/customer/\" + c.pk+\"/\"}> Update</a>*/}\n                </td>\n            </tr>)}\n            </tbody>\n            </table>\n            <button  className=\"btn btn-primary\"  onClick=  {  this.nextPage  }>Next</button>\n        </div>\n        );\n  }\n}\nexport  default  CustomersList;"]},"metadata":{},"sourceType":"module"}