{"ast":null,"code":"import React,{useState}from'react';import'bootstrap/dist/css/bootstrap.min.css';import{Modal,Button}from'react-bootstrap';import{withFormik,Form,Field,Formik}from'formik';import*as Yup from\"yup\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function BoardForm(_ref){var open=_ref.open,handleCloseBoard=_ref.handleCloseBoard,props=_ref.props;var tokens=localStorage.tokens;var validationSchema=Yup.object().shape({name:Yup.string().required('name is wrong'),description:Yup.string().required('Description is wrong')});var boardSubmit=function boardSubmit(values){var REST_API_URL=\"http://127.0.0.1:8000/api/board/\";fetch(REST_API_URL,{method:'post',body:JSON.stringify(values),headers:{'Authorization':\"Token \".concat(tokens),'Content-Type':'application/json'}}).then(function(response){if(response.ok){return response.json();}else{// HANDLE ERROR\nthrow new Error('Something went wrong');}}).then(function(data){// HANDLE RESPONSE DATA\nwindow.location.reload();// props.history.push(\"/\")\n}).catch(function(error){// HANDLE ERROR\nconsole.log(error);});};return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(Modal,{show:open,onHide:handleCloseBoard,children:[/*#__PURE__*/_jsx(Modal.Header,{closeButton:true,children:/*#__PURE__*/_jsx(Modal.Title,{children:\" New Board\"})}),/*#__PURE__*/_jsx(Modal.Body,{children:/*#__PURE__*/_jsx(React.Fragment,{children:/*#__PURE__*/_jsx(Formik,{initialValues:{Name:'',Description:\"\"},onSubmit:boardSubmit,validationSchema:validationSchema,children:function children(props){return/*#__PURE__*/_jsxs(Form,{className:\"form-container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"name\",children:\"name\"}),/*#__PURE__*/_jsx(Field,{type:\"text\",name:\"name\",id:\"name\",className:\"form-control \",placeholder:\"Name\"}),props.touched.name&&props.errors.name&&/*#__PURE__*/_jsx(\"span\",{className:\"help-block text-danger\",children:props.errors.name})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"description\",children:\"Description\"}),/*#__PURE__*/_jsx(Field,{type:\"text\",name:\"description\",id:\"description\",className:\"form-control\",placeholder:\"Description\"}),props.touched.description&&props.errors.description&&/*#__PURE__*/_jsx(\"span\",{className:\"help-block text-danger\",children:props.errors.description})]}),/*#__PURE__*/_jsxs(Modal.Footer,{children:[/*#__PURE__*/_jsx(Button,{variant:\"secondary\",onClick:handleCloseBoard,children:\"Close\"}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn btn-primary mb-2\",children:\"Create\"})]})]});}})})})]})});}export default BoardForm;","map":{"version":3,"sources":["/home/user/Desktop/react_board/boards/boards-ui/src/components/BoardForm/boardform.js"],"names":["React","useState","Modal","Button","withFormik","Form","Field","Formik","Yup","BoardForm","open","handleCloseBoard","props","tokens","localStorage","validationSchema","object","shape","name","string","required","description","boardSubmit","values","REST_API_URL","fetch","method","body","JSON","stringify","headers","then","response","ok","json","Error","data","window","location","reload","catch","error","console","log","Name","Description","touched","errors"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport { Modal, Button } from 'react-bootstrap'\nimport { withFormik, Form, Field, Formik } from 'formik';\nimport * as Yup from \"yup\";\n\nfunction BoardForm({open,handleCloseBoard,props}){\n    const tokens = localStorage.tokens;\n\n  const  validationSchema = Yup.object().shape({\n    name: Yup.string().required('name is wrong'),\n    description: Yup.string().required('Description is wrong')\n  })\n\n\n  const boardSubmit = (values) => {\n    const REST_API_URL = `http://127.0.0.1:8000/api/board/`;\n    fetch(REST_API_URL, {\n      method: 'post',\n      body: JSON.stringify(values),\n      headers: {\n          'Authorization': `Token ${tokens}`,\n           'Content-Type': 'application/json',\n                }\n    }).then(response=> {\n      if (response.ok) {\n        return response.json();\n      } else {\n        // HANDLE ERROR\n        throw new Error('Something went wrong');\n      }\n    }).then(data => {\n      // HANDLE RESPONSE DATA\n      window.location.reload();\n      // props.history.push(\"/\")\n\n    }).catch((error) => {\n      // HANDLE ERROR\n      console.log(error);\n    });\n  }\n  return (\n    <div>\n      <Modal show={open} onHide={handleCloseBoard}>\n\n        <Modal.Header closeButton>\n          <Modal.Title> New Board</Modal.Title>\n        </Modal.Header>\n\n        <Modal.Body>\n<React.Fragment>\n\n          <Formik\n       initialValues={{ Name: '', Description: \"\" }}\n       onSubmit={boardSubmit}\n       validationSchema={validationSchema}\n     >\n       {props => (\n          <Form className=\"form-container\">\n            <div className=\"form-group\">\n              <label htmlFor=\"name\">name</label>\n              <Field type=\"text\" name=\"name\" id={\"name\"} className={\"form-control \"} placeholder=\"Name\" />\n              { props.touched.name && props.errors.name && <span className=\"help-block text-danger\">{props.errors.name}</span> }\n            </div>\n              <div className=\"form-group\">\n              <label htmlFor=\"description\">Description</label>\n              <Field type=\"text\" name=\"description\" id={\"description\"} className={\"form-control\"} placeholder=\"Description\" />\n              { props.touched.description && props.errors.description && <span className=\"help-block text-danger\">{props.errors.description}</span> }\n            </div>\n        <Modal.Footer>\n\n          <Button variant=\"secondary\" onClick={handleCloseBoard}>Close</Button>\n                  <button type=\"submit\" className=\"btn btn-primary mb-2\">Create</button>\n\n        </Modal.Footer>\n          </Form>)}\n             </Formik>\n\n    </React.Fragment>\n\n        </Modal.Body>\n\n\n\n      </Modal>\n\n    </div>\n  );\n}\n\nexport default BoardForm;"]},"metadata":{},"sourceType":"module"}