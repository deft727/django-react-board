{"ast":null,"code":"import _slicedToArray from\"/home/user/Desktop/react_board/boards/boards-ui/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import _createForOfIteratorHelper from\"/home/user/Desktop/react_board/boards/boards-ui/node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper\";import React,{useState,useEffect}from'react';import'bootstrap/dist/css/bootstrap.min.css';import{Link}from'react-router-dom';import axios from'axios';import FormData from\"form-data\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function PicUploadNoCrop(){var handleSubmit=function handleSubmit(values){var data=new FormData();var _iterator=_createForOfIteratorHelper(values.file),_step;try{for(_iterator.s();!(_step=_iterator.n()).done;){var file=_step.value;data.append(\"image\",file);}// data.append('file[]', values.file, values.file.name,);\n}catch(err){_iterator.e(err);}finally{_iterator.f();}data.append('subject',values.subject);// console.log(\"data\", data)\nconsole.log(\"values\",values.file.name);var REST_API_URL=\"http://127.0.0.1:8000/api/board/\".concat(id,\"/new/\");axios.post(REST_API_URL,data,{headers:{'accept':'application/json','Accept-Language':'en-US,en;q=0.8','Content-Type':\"multipart/form-data\",'Authorization':\"Token \".concat(tokens)}}).then(function(response){if(response.status===201){alert(\"Success\");handleCloseTopic();}else{alert(\"error\");handleCloseTopic();// window.location.reload();\nthrow new Error('Something went wrong');}});};var _useState=useState({}),_useState2=_slicedToArray(_useState,2),user=_useState2[0],Setuser=_useState2[1];var tokens=localStorage.tokens;useEffect(function(){axios({method:\"GET\",headers:{'Authorization':\"Token \".concat(tokens),'Accept':'application/json','Content-Type':'application/json'},url:\"http://127.0.0.1:8000/api/account/\"}).then(function(response){console.log(response.data);Setuser(response.data);});},[]);return/*#__PURE__*/_jsx(\"div\",{className:\"container mt-5\",children:/*#__PURE__*/_jsx(\"div\",{className:\"page-content page-container ml-4 \",id:\"page-content\",children:/*#__PURE__*/_jsx(\"div\",{className:\"padding mb-5\",children:/*#__PURE__*/_jsx(\"div\",{className:\"row container d-flex justify-content-center mb-5\",children:/*#__PURE__*/_jsx(\"div\",{className:\"col-xl-6 col-md-12\",children:/*#__PURE__*/_jsx(\"div\",{className:\"card user-card-full\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"row m-l-0 m-r-0\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-sm-4 bg-c-lite-green user-profile\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card-block text-center text-white\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"m-b-5\",children:/*#__PURE__*/_jsx(\"img\",{src:\"https://img.icons8.com/bubbles/100/000000/user.png\",className:\"img-radius\",alt:\"User-Profile-Image\"})}),/*#__PURE__*/_jsx(\"input\",{className:\"m-2\",multiple:true,type:\"file\",name:\"file\",onChange:function onChange(event){props.setFieldValue(\"file\",event.target.files);}}),/*#__PURE__*/_jsx(\"h6\",{className:\"f-w-600\",children:\" \"}),/*#__PURE__*/_jsx(\"p\",{children:\"Web \"}),\" \",/*#__PURE__*/_jsx(\"i\",{className:\" mdi mdi-square-edit-outline feather icon-edit m-t-10 f-16\",children:\" \"})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-sm-8\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card-block\",children:[/*#__PURE__*/_jsx(\"h6\",{className:\"m-b-20 p-b-5 b-b-default f-w-600 mb-5\",children:\"Information\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"col-sm-6\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"m-b-10 f-w-600\",children:\"Username\"}),/*#__PURE__*/_jsxs(\"h6\",{className:\"text-muted f-w-400\",children:[user.username,\" \"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-sm-6\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"m-b-10 f-w-600\",children:\"Email\"}),/*#__PURE__*/_jsxs(\"h6\",{className:\"text-muted f-w-400\",children:[user.email,\" \"]})]})]})]})})]})})})})})},user.id)});}export default PicUploadNoCrop;","map":{"version":3,"sources":["/home/user/Desktop/react_board/boards/boards-ui/src/components/account/my_account2.js"],"names":["React","useState","useEffect","Link","axios","FormData","PicUploadNoCrop","handleSubmit","values","data","file","append","subject","console","log","name","REST_API_URL","id","post","headers","tokens","then","response","status","alert","handleCloseTopic","Error","user","Setuser","localStorage","method","url","event","props","setFieldValue","target","files","username","email"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport 'bootstrap/dist/css/bootstrap.min.css'\nimport {Link} from 'react-router-dom';\n\n\nimport axios from 'axios';\nimport FormData from \"form-data\";\n\nfunction PicUploadNoCrop() {\n\n     const handleSubmit = (values) => {\n    let data = new FormData();\n    for(const file of values.file){\n        data.append(\"image\", file);\n    }\n     // data.append('file[]', values.file, values.file.name,);\n     data.append('subject', values.subject);\n    // console.log(\"data\", data)\n    console.log(\"values\", values.file.name)\n    const REST_API_URL = `http://127.0.0.1:8000/api/board/${id}/new/`;\n    axios.post(REST_API_URL, data, {\n  headers: {\n    'accept': 'application/json',\n    'Accept-Language': 'en-US,en;q=0.8',\n    'Content-Type': `multipart/form-data`,\n    'Authorization': `Token ${tokens}`,\n\n  }\n})\n  .then((response) => {\n      if (response.status===201) {\n          alert(\"Success\");\n            handleCloseTopic()\n      }\n      else {\n          alert(\"error\");\n          handleCloseTopic()\n          // window.location.reload();\n        throw new Error('Something went wrong');\n      }\n  });\n  }\n\n\n\n    const [user, Setuser] = useState({})\n    const tokens = localStorage.tokens;\n    useEffect(() => {\n\n        axios({\n            method: \"GET\",\n            headers: {\n                'Authorization': `Token ${tokens}`,\n                'Accept' : 'application/json',\n                'Content-Type': 'application/json'\n                },\n            url: `http://127.0.0.1:8000/api/account/`\n        }).then(response => {\n            console.log(response.data)\n            Setuser(response.data)\n        })\n    }, [])\n\n\n  return (\n<div className=\"container mt-5\">\n      <div className=\"page-content page-container ml-4 \" id=\"page-content\" key={user.id}>\n          <div className=\"padding mb-5\">\n              <div className=\"row container d-flex justify-content-center mb-5\">\n                  <div className=\"col-xl-6 col-md-12\">\n                      <div className=\"card user-card-full\">\n                          <div className=\"row m-l-0 m-r-0\">\n                              <div className=\"col-sm-4 bg-c-lite-green user-profile\">\n                                  <div className=\"card-block text-center text-white\">\n                                      <div className=\"m-b-5\">\n                                          <img\n                                          src=\"https://img.icons8.com/bubbles/100/000000/user.png\"\n                                          className=\"img-radius\" alt=\"User-Profile-Image\" />\n\n                                      </div>\n        <input className=\"m-2\"\n              multiple={true}\n              type=\"file\"\n              name=\"file\"\n              onChange={(event) =>{\n                props.setFieldValue(\"file\", event.target.files);\n              }}\n            />\n                                      <h6 className=\"f-w-600\"> </h6>\n                                      <p>Web </p> <i\n                                      className=\" mdi mdi-square-edit-outline feather icon-edit m-t-10 f-16\"> </i>\n                                  </div>\n                              </div>\n                              <div className=\"col-sm-8\">\n                                  <div className=\"card-block\">\n                                      <h6 className=\"m-b-20 p-b-5 b-b-default f-w-600 mb-5\">Information</h6>\n                                      <div className=\"row\">\n                                          <div className=\"col-sm-6\">\n                                              <p className=\"m-b-10 f-w-600\">Username</p>\n                                              <h6 className=\"text-muted f-w-400\">{user.username} </h6>\n                                          </div>\n                                          <div className=\"col-sm-6\">\n                                              <p className=\"m-b-10 f-w-600\">Email</p>\n                                              <h6 className=\"text-muted f-w-400\">{user.email} </h6>\n                                          </div>\n                                      </div>\n                                  </div>\n                              </div>\n                          </div>\n                      </div>\n                  </div>\n              </div>\n          </div>\n      </div>\n    </div>\n  )\n}\n\nexport default PicUploadNoCrop;"]},"metadata":{},"sourceType":"module"}