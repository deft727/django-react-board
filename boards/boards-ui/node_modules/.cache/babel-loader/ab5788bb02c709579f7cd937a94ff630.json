{"ast":null,"code":"import React from'react';import{withFormik,Form,Field,Formik}from'formik';import{withRouter}from\"react-router-dom\";import*as Yup from'yup';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var RegisterPage=function RegisterPage(props){var registerPageStyle={margin:\"32px auto 37px\",maxWidth:\"530px\",background:\"#fff\",padding:\"30px\",borderRadius:\"10px\",boxShadow:\"0px 0px 10px 10px rgba(0,0,0,0.15)\"};var validationSchema=Yup.object().shape({password:Yup.string().required('Password is required'),email:Yup.string().required('Email is required')});var handleSubmit=function handleSubmit(values){var REST_API_URL=\"http://127.0.0.1:8000/auth/users/\";fetch(REST_API_URL,{method:'post',body:JSON.stringify(values),headers:{'Content-Type':'application/json'}}).then(function(response){if(response.ok){return response.json();}else{// HANDLE ERROR\nthrow new Error('Something went wrong');}}).then(function(data){// HANDLE RESPONSE DATA\nconsole.log(data);props.history.push(\"/auth/token/login/\");}).catch(function(error){// HANDLE ERROR\nconsole.log(error);});};// const { touched, errors } = props;\nreturn/*#__PURE__*/_jsx(React.Fragment,{children:/*#__PURE__*/_jsx(\"div\",{className:\"container\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"login-wrapper\",style:registerPageStyle,children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Register Page\"}),/*#__PURE__*/_jsx(Formik,{initialValues:{username:\"\",email:\"\",password:\"\"},onSubmit:handleSubmit,validationSchema:validationSchema,enableReinitialize:true,children:function children(props){return/*#__PURE__*/_jsxs(Form,{className:\"form-container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"username\",children:\"Username\"}),/*#__PURE__*/_jsx(Field,{type:\"text\",name:\"username\",id:\"username\",className:\"form-control \",placeholder:\"username\"}),props.touched.username&&props.errors.username&&/*#__PURE__*/_jsx(\"span\",{className:\"help-block text-danger\",children:props.errors.username})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"email\",children:\"Email\"}),/*#__PURE__*/_jsx(Field,{type:\"text\",name:\"email\",id:\"email\",className:\"form-control\",placeholder:\"Email\"}),props.touched.email&&props.errors.email&&/*#__PURE__*/_jsx(\"span\",{className:\"help-block text-danger\",children:props.errors.email})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"password\",children:\"Password\"}),/*#__PURE__*/_jsx(Field,{type:\"password\",name:\"password\",id:\"password\",className:\"form-control \",placeholder:\"Password\"}),props.touched.password&&props.errors.password&&/*#__PURE__*/_jsx(\"span\",{className:\"help-block text-danger\",children:props.errors.password})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn btn-primary mb-2\",children:\"Register\"})]});}})]})})});};export default withRouter(RegisterPage);","map":{"version":3,"sources":["/home/user/Desktop/react_board/boards/boards-ui/src/components/auth/registerForm.js"],"names":["React","withFormik","Form","Field","Formik","withRouter","Yup","RegisterPage","props","registerPageStyle","margin","maxWidth","background","padding","borderRadius","boxShadow","validationSchema","object","shape","password","string","required","email","handleSubmit","values","REST_API_URL","fetch","method","body","JSON","stringify","headers","then","response","ok","json","Error","data","console","log","history","push","catch","error","username","touched","errors"],"mappings":"AAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,UAAT,CAAqBC,IAArB,CAA2BC,KAA3B,CAAkCC,MAAlC,KAAgD,QAAhD,CACA,OAAQC,UAAR,KAAyB,kBAAzB,CACA,MAAO,GAAKC,CAAAA,GAAZ,KAAqB,KAArB,C,wFAEA,GAAMC,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,CAACC,KAAD,CAAW,CAC9B,GAAMC,CAAAA,iBAAiB,CAAG,CACxBC,MAAM,CAAE,gBADgB,CAExBC,QAAQ,CAAE,OAFc,CAGxBC,UAAU,CAAE,MAHY,CAIxBC,OAAO,CAAE,MAJe,CAKxBC,YAAY,CAAE,MALU,CAMxBC,SAAS,CAAE,oCANa,CAA1B,CASA,GAAOC,CAAAA,gBAAgB,CAAGV,GAAG,CAACW,MAAJ,GAAaC,KAAb,CAAmB,CAC3CC,QAAQ,CAAEb,GAAG,CAACc,MAAJ,GAAaC,QAAb,CAAsB,sBAAtB,CADiC,CAE3CC,KAAK,CAAEhB,GAAG,CAACc,MAAJ,GAAaC,QAAb,CAAsB,mBAAtB,CAFoC,CAAnB,CAA1B,CAMA,GAAME,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,CAACC,MAAD,CAAY,CAC/B,GAAMC,CAAAA,YAAY,CAAG,mCAArB,CACAC,KAAK,CAACD,YAAD,CAAe,CAClBE,MAAM,CAAE,MADU,CAElBC,IAAI,CAAEC,IAAI,CAACC,SAAL,CAAeN,MAAf,CAFY,CAGlBO,OAAO,CAAE,CACC,eAAgB,kBADjB,CAHS,CAAf,CAAL,CAMGC,IANH,CAMQ,SAAAC,QAAQ,CAAG,CACjB,GAAIA,QAAQ,CAACC,EAAb,CAAiB,CACf,MAAOD,CAAAA,QAAQ,CAACE,IAAT,EAAP,CACD,CAFD,IAEO,CACL;AACA,KAAM,IAAIC,CAAAA,KAAJ,CAAU,sBAAV,CAAN,CACD,CACF,CAbD,EAaGJ,IAbH,CAaQ,SAAAK,IAAI,CAAI,CACd;AACAC,OAAO,CAACC,GAAR,CAAYF,IAAZ,EACA7B,KAAK,CAACgC,OAAN,CAAcC,IAAd,CAAmB,oBAAnB,EACD,CAjBD,EAiBGC,KAjBH,CAiBS,SAACC,KAAD,CAAW,CAClB;AACAL,OAAO,CAACC,GAAR,CAAYI,KAAZ,EACD,CApBD,EAqBD,CAvBD,CAwBA;AACA,mBACE,KAAC,KAAD,CAAO,QAAP,wBACE,YAAK,SAAS,CAAC,WAAf,uBACE,aAAK,SAAS,CAAC,eAAf,CAA+B,KAAK,CAAElC,iBAAtC,wBACE,qCADF,cAEE,KAAC,MAAD,EACH,aAAa,CAAE,CAAEmC,QAAQ,CAAE,EAAZ,CAAetB,KAAK,CAAE,EAAtB,CAA0BH,QAAQ,CAAE,EAApC,CADZ,CAEH,QAAQ,CAAEI,YAFP,CAGH,gBAAgB,CAAEP,gBAHf,CAIH,kBAAkB,KAJf,UAMF,kBAAAR,KAAK,qBACH,MAAC,IAAD,EAAM,SAAS,CAAC,gBAAhB,wBACE,aAAK,SAAS,CAAC,YAAf,wBACE,cAAO,OAAO,CAAC,UAAf,sBADF,cAEE,KAAC,KAAD,EAAO,IAAI,CAAC,MAAZ,CAAmB,IAAI,CAAC,UAAxB,CAAmC,EAAE,CAAE,UAAvC,CAAmD,SAAS,CAAE,eAA9D,CAA+E,WAAW,CAAC,UAA3F,EAFF,CAGIA,KAAK,CAACqC,OAAN,CAAcD,QAAd,EAA0BpC,KAAK,CAACsC,MAAN,CAAaF,QAAvC,eAAmD,aAAM,SAAS,CAAC,wBAAhB,UAA0CpC,KAAK,CAACsC,MAAN,CAAaF,QAAvD,EAHvD,GADF,cAMI,aAAK,SAAS,CAAC,YAAf,wBACA,cAAO,OAAO,CAAC,OAAf,mBADA,cAEA,KAAC,KAAD,EAAO,IAAI,CAAC,MAAZ,CAAmB,IAAI,CAAC,OAAxB,CAAgC,EAAE,CAAE,OAApC,CAA6C,SAAS,CAAE,cAAxD,CAAwE,WAAW,CAAC,OAApF,EAFA,CAGEpC,KAAK,CAACqC,OAAN,CAAcvB,KAAd,EAAuBd,KAAK,CAACsC,MAAN,CAAaxB,KAApC,eAA6C,aAAM,SAAS,CAAC,wBAAhB,UAA0Cd,KAAK,CAACsC,MAAN,CAAaxB,KAAvD,EAH/C,GANJ,cAWE,aAAK,SAAS,CAAC,YAAf,wBACE,cAAO,OAAO,CAAC,UAAf,sBADF,cAEE,KAAC,KAAD,EAAO,IAAI,CAAC,UAAZ,CAAuB,IAAI,CAAC,UAA5B,CAAuC,EAAE,CAAE,UAA3C,CAAuD,SAAS,CAAE,eAAlE,CAAmF,WAAW,CAAC,UAA/F,EAFF,CAGId,KAAK,CAACqC,OAAN,CAAc1B,QAAd,EAA0BX,KAAK,CAACsC,MAAN,CAAa3B,QAAvC,eAAmD,aAAM,SAAS,CAAC,wBAAhB,UAA0CX,KAAK,CAACsC,MAAN,CAAa3B,QAAvD,EAHvD,GAXF,cAgBE,eAAQ,IAAI,CAAC,QAAb,CAAsB,SAAS,CAAC,sBAAhC,sBAhBF,GADG,EANH,EAFF,GADF,EADF,EADF,CAmCD,CA5ED,CA+EA,cAAed,CAAAA,UAAU,CAACE,YAAD,CAAzB","sourcesContent":["import React from 'react';\nimport { withFormik, Form, Field, Formik } from 'formik';\nimport {withRouter} from \"react-router-dom\";\nimport * as Yup from 'yup';\n\nconst RegisterPage = (props) => {\n  const registerPageStyle = {\n    margin: \"32px auto 37px\",\n    maxWidth: \"530px\",\n    background: \"#fff\",\n    padding: \"30px\",\n    borderRadius: \"10px\",\n    boxShadow: \"0px 0px 10px 10px rgba(0,0,0,0.15)\"\n  };\n\n  const  validationSchema = Yup.object().shape({\n    password: Yup.string().required('Password is required'),\n    email: Yup.string().required('Email is required')\n  })\n\n\n  const handleSubmit = (values) => {\n    const REST_API_URL = \"http://127.0.0.1:8000/auth/users/\";\n    fetch(REST_API_URL, {\n      method: 'post',\n      body: JSON.stringify(values),\n      headers: {\n                'Content-Type': 'application/json',\n                }\n    }).then(response=> {\n      if (response.ok) {\n        return response.json();\n      } else {\n        // HANDLE ERROR\n        throw new Error('Something went wrong');\n      }\n    }).then(data => {\n      // HANDLE RESPONSE DATA\n      console.log(data);\n      props.history.push(\"/auth/token/login/\")\n    }).catch((error) => {\n      // HANDLE ERROR\n      console.log(error);\n    });\n  }\n  // const { touched, errors } = props;\n  return(\n    <React.Fragment>\n      <div className=\"container\">\n        <div className=\"login-wrapper\" style={registerPageStyle}>\n          <h2>Register Page</h2>\n          <Formik\n       initialValues={{ username: \"\",email: \"\", password: \"\" }}\n       onSubmit={handleSubmit}\n       validationSchema={validationSchema}\n       enableReinitialize\n     >\n       {props => (\n          <Form className=\"form-container\">\n            <div className=\"form-group\">\n              <label htmlFor=\"username\">Username</label>\n              <Field type=\"text\" name=\"username\" id={\"username\"} className={\"form-control \"} placeholder=\"username\" />\n              { props.touched.username && props.errors.username && <span className=\"help-block text-danger\">{props.errors.username}</span> }\n            </div>\n              <div className=\"form-group\">\n              <label htmlFor=\"email\">Email</label>\n              <Field type=\"text\" name=\"email\" id={\"email\"} className={\"form-control\"} placeholder=\"Email\" />\n              { props.touched.email && props.errors.email && <span className=\"help-block text-danger\">{props.errors.email}</span> }\n            </div>\n            <div className=\"form-group\">\n              <label htmlFor=\"password\">Password</label>\n              <Field type=\"password\" name=\"password\" id={\"password\"} className={\"form-control \"} placeholder=\"Password\" />\n              { props.touched.password && props.errors.password && <span className=\"help-block text-danger\">{props.errors.password}</span> }\n            </div>\n            <button type=\"submit\" className=\"btn btn-primary mb-2\">Register</button>\n          </Form>)}\n             </Formik>\n        </div>\n      </div>\n    </React.Fragment>\n  );\n}\n\n\nexport default withRouter(RegisterPage);"]},"metadata":{},"sourceType":"module"}